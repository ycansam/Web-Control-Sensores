<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos Sensores</title>
</head>

<body>
    <header>Sensores</header>
    <ul id="lista-sensores" style="display:flex; flex-direction: column;">
        <li id="sensor-" style="display:flex;">
            <p id="id-sensor-" style="margin-right:30px; width: 25%;">ID SENSOR</p>
            <p class="nombre-sensor" style="margin-right:30px;width: 25%;">NOMBRE SENSOR</p>
            <p class="temperatura" style="margin-right:30px;width: 25%;">TEMPERATURA ºC</p>
            <p class="dioxido" style="margin-right:30px;width: 25%;">DIOXIDO CARBONO %</p>
        </li>
    </ul>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    $(function() {
            $.ajax({
                type: "GET",
                url: "http://localhost:3050/obtenerSensores",
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                dataType: "json",
                data: {},
                success: function(arraySensores) {
                    arraySensores.forEach(function(sensor) {
                        console.log(sensor);
                        var html = '<li id="sensor-" style="display:flex;">' +
                            '            <p id="id-sensor-" style="margin-right:30px; width: 25%;">' + sensor.id_sensor + '</p>' +
                            '            <p class="nombre-sensor" style="margin-right:30px;width: 25%;">' + sensor.nombre + '</p>' +
                            '            <p class="temperatura" style="margin-right:30px;width: 25%;">' + sensor.temperatura + '</p>' +
                            '            <p class="dioxido" style="margin-right:30px;width: 25%;">' + sensor.dioxido_carbono + '</p>' +
                            '        </li>';
                        $('#lista-sensores').append(html);
                    });
                    // sensor => console.log(sensor)
                    // console.log(arraySensores);
                },
                error: function() {
                    console.log("error");
                },
                crossDomain: true
            })
        })
        // $(".alert").alert('close')
        // $("#btn-entrar-form").on("click", function() {
        //     event.preventDefault();
        //     var formData = $('#formEntrar').serialize();
        //     var alertina =
        //         '<div class="alert alerta fade show" role="alert">' +
        //         '	<button  class="close" data-dismiss="alert" aria-label="Close">' +
        //         '		<span aria-hidden="true">&times;</span>' +
        //         '	</button>' +
        //         '	<h4 class="alert-heading">Error</h4>' +
        //         '	Usuario o contraseña incorrectos.' +
        //         '</div>';
</script>

</html>